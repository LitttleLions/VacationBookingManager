{% extends "base.html" %}

{% block title %}{{ _('Calendar View') }}{% endblock %}

{% block content %}
<h2>{{ _('Calendar View') }}</h2>
<div class="calendar">
    <div class="calendar-header"></div>
    <div class="calendar-header">{{ _('Monday') }}</div>
    <div class="calendar-header">{{ _('Tuesday') }}</div>
    <div class="calendar-header">{{ _('Wednesday') }}</div>
    <div class="calendar-header">{{ _('Thursday') }}</div>
    <div class="calendar-header">{{ _('Friday') }}</div>
    <div class="calendar-header">{{ _('Saturday') }}</div>
    <div class="calendar-header">{{ _('Sunday') }}</div>

    {% for apartment in apartments %}
    <div class="apartment-name">{{ apartment.name }}</div>
    {% for day in range(7) %}
    <div class="calendar-cell">
        {% for booking in bookings %}
        {% if booking.apartment_id == apartment.id and booking.check_in <= current_date + day and booking.check_out > current_date + day %}
        <div class="booking-item" data-apartment-name="{{ booking.apartment_name }}" data-guest-name="{{ booking.guest_name }}" data-phone-number="{{ booking.phone_number }}" data-check-in="{{ booking.check_in }}" data-check-out="{{ booking.check_out }}" data-guests="{{ booking.guests }}" data-assistance-notes="{{ booking.assistance_notes }}" data-booking-date="{{ booking.booking_date }}" data-total-price="{{ booking.total_price }}" data-status="{{ booking.status }}" data-type="{{ booking.type }}">
            {{ booking.guest_name }}
        </div>
        {% endif %}
        {% endfor %}
    </div>
    {% endfor %}
    {% endfor %}
</div>
{% endblock %}
